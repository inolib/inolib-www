{
  "$schema": "https://raw.githubusercontent.com/devcontainers/spec/main/schemas/devContainer.schema.json",
  "dockerComposeFile": "./docker/compose.yaml",
  "name": "@inolib/www",
  "postCreateCommand": ["fish", "./.devcontainer/hooks/postCreate.fish"],
  "service": "devcontainer",
  "shutdownAction": "stopCompose",
  "workspaceFolder": "/@inolib/www",

  "customizations": {
    "vscode": {
      "extensions": [
        "bmalehorn.vscode-fish", // Fish
        "ms-azuretools.vscode-docker", // Docker
        "dbaeumer.vscode-eslint", // ESLint
        "editorconfig.editorconfig", // EditorConfig
        "eamodio.gitlens", // GitLens
        "visualstudioexptteam.vscodeintellicode", // IntelliCode
        "ms-vsliveshare.vsliveshare", // Live Share
        "esbenp.prettier-vscode", // Prettier
        "yoavbls.pretty-ts-errors", // Pretty TypeScript Errors
        "bradlc.vscode-tailwindcss", // Tailwind CSS IntelliSense
        "mxsdev.typescript-explorer", // TypeScript Explorer
        "redhat.vscode-yaml" // YAML
      ],

      "settings": {
        // Docker
        "[dockerfile]": {
          "editor.defaultFormatter": "ms-azuretools.vscode-docker"
        },

        // ESLint
        "editor.codeActionsOnSave": {
          "source.fixAll.eslint": "always"
        },
        "eslint.validate": ["javascript", "javascriptreact", "typescript", "typescriptreact"],

        // JavaScript
        "javascript.validate.enable": false,

        // Live Share
        "liveshare.languages.allowGuestCommandControl": true,

        // Prettier
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.formatOnSave": true,

        // Tailwind CSS IntelliSense
        "tailwindCSS.experimental.classRegex": [
          ["cn\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"],
          ["cva\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"]
        ],

        // TypeScript
        "typescript.tsdk": "./node_modules/typescript/lib",
        "typescript.validate.enable": true
      }
    }
  }
}
